{% extends 'TMS/base.html' %}
{% load static %}
{% block content %}

<div class="page-wrapper">
  <div class="content container-fluid">

    <!-- PAGE HEADER -->
    <div class="page-header d-flex justify-content-between align-items-center">
      <div>
        <h3 class="page-title text-primary">
          <i class="fas fa-chalkboard-teacher"></i> Teacher Overview
        </h3>
        <ul class="breadcrumb mb-0">
          <li class="breadcrumb-item">
            <a href="{% url 'teacher_list' %}">Teachers</a>
          </li>
          <li class="breadcrumb-item active">
            {{ teacher.first_name }} {{ teacher.last_name }}
          </li>
        </ul>
      </div>
    </div>

    <!-- WELCOME / PROFILE BANNER -->
    <div class="card mb-4" style="border-radius:18px; overflow:hidden;">
      <div class="card-body d-flex align-items-center"
           style="background:linear-gradient(90deg,#1E4DB7,#6a82fb);color:#fff;">
        <div class="me-3">
          <img
            src="{% if teacher.photo %}{{ teacher.photo.url }}{% else %}{% static 'assets/img/user.jpg' %}{% endif %}"
            class="rounded-circle"
            style="width:80px;height:80px;object-fit:cover;border:3px solid rgba(255,255,255,0.6);"
            alt="Teacher Photo">
        </div>
        <div class="flex-fill">
          <h4 class="mb-1">
            {{ teacher.first_name }} {{ teacher.last_name }}
          </h4>
          <p class="mb-0">
            {% if teacher.department %}
              <strong>Department:</strong> {{ teacher.department.name }}
            {% else %}
              <strong>Department:</strong> Not assigned
            {% endif %}
          </p>
          <small>
            <i class="fas fa-envelope me-1"></i>{{ teacher.email }} &nbsp;|&nbsp;
            <i class="fas fa-phone-alt me-1"></i>{{ teacher.mobile_number }}
          </small>
        </div>
        <div class="text-end d-none d-md-block">
          <span class="badge bg-light text-primary mb-2" style="font-size:0.8rem;">
            ID: {{ teacher.teacher_id }}
          </span>
          <p class="mb-0" style="font-size:0.85rem;">
            <strong>Gender:</strong> {{ teacher.gender }}<br>
            <strong>DOB:</strong> {{ teacher.date_of_birth|date:"d M Y" }}<br>
            <strong>Address:</strong> {{ teacher.address }}
          </p>
        </div>
      </div>
    </div>

    <!-- SUMMARY CARDS (student-style) -->
    <div class="row mb-4">

      <!-- Total Students -->
      <div class="col-xl-3 col-sm-6 col-12 d-flex">
        <div class="card bg-nine w-100">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <h3>{{ total_students }}</h3>
                <h6>Students</h6>
              </div>
              <div class="db-icon">
                <i class="fas fa-user-graduate"></i>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Total Classes -->
      <div class="col-xl-3 col-sm-6 col-12 d-flex">
        <div class="card bg-six w-100">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <h3>{{ total_classes }}</h3>
                <h6>Classes</h6>
              </div>
              <div class="db-icon">
                <i class="fas fa-chalkboard"></i>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Average Marks -->
      <div class="col-xl-3 col-sm-6 col-12 d-flex">
        <div class="card bg-eleven w-100">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <h3>{{ average_marks }}%</h3>
                <h6>Average Marks</h6>
              </div>
              <div class="db-icon">
                <i class="fas fa-chart-line"></i>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Subjects Managed -->
      <div class="col-xl-3 col-sm-6 col-12 d-flex">
        <div class="card bg-six w-100">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <h3>{{ total_subjects }}</h3>
                <h6>Subjects Managed</h6>
              </div>
              <div class="db-icon">
                <i class="fas fa-book-open"></i>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>



    

{% endblock %}

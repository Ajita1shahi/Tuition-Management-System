{% extends 'TMS/base.html' %}
{% load static %}

{% block content %}
<div class="page-wrapper">
  <div class="content container-fluid">

    <div class="page-header">
      <div class="row align-items-center">
        <div class="col">
          <h3 class="page-title">
            <i class="fas fa-coins text-warning"></i> Add Fee
          </h3>
          <ul class="breadcrumb">
            <li class="breadcrumb-item">
              <a href="{% url 'accounts_dashboard' %}">Accounts</a>
            </li>
            <li class="breadcrumb-item active">Add Fee</li>
          </ul>
        </div>
      </div>
    </div>

    {% if messages %}
      <div class="row">
        <div class="col-md-8 offset-md-2">
          {% for message in messages %}
            <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
              {{ message }}
              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
          {% endfor %}
        </div>
      </div>
    {% endif %}

    <div class="row">
      <div class="col-md-8 offset-md-2">
        <div class="card">
          <div class="card-body">
            <form method="POST">
              {% csrf_token %}

              
              {% if form.non_field_errors %}
                <div class="alert alert-danger">
                  {{ form.non_field_errors }}
                </div>
              {% endif %}

              <div class="form-group">
                <label><strong>Student</strong></label>
                {{ form.student }}
                {% if form.student.errors %}
                  <small class="text-danger">{{ form.student.errors.0 }}</small>
                {% endif %}
              </div>

              <div class="form-group">
                <label><strong>Month</strong></label>
                {{ form.month }}
                {% if form.month.errors %}
                  <small class="text-danger">{{ form.month.errors.0 }}</small>
                {% endif %}
              </div>

              <div class="form-group">
                <label><strong>Total Amount (Rs)</strong></label>
                {{ form.total_amount }}
                {% if form.total_amount.errors %}
                  <small class="text-danger">{{ form.total_amount.errors.0 }}</small>
                {% endif %}
              </div>

              <div class="form-group">
                <label><strong>Amount Paid (Rs)</strong></label>
                {{ form.amount_paid }}
                {% if form.amount_paid.errors %}
                  <small class="text-danger">{{ form.amount_paid.errors.0 }}</small>
                {% endif %}
              </div>

            
              <div class="text-center mt-4">
                <button type="submit" class="btn btn-primary">
                  <i class="fas fa-save"></i> Save Fee
                </button>
                <a href="{% url 'fee_list' %}" class="btn btn-secondary">
                  <i class="fas fa-times"></i> Cancel
                </a>
              </div>

            </form>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
{% endblock %}

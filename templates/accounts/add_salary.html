{% extends 'TMS/base.html' %}
{% load static %}

{% block content %}
<div class="page-wrapper">
  <div class="content container-fluid">

    <!-- PAGE HEADER -->
    <div class="page-header">
      <div class="row align-items-center">
        <div class="col">
          <h3 class="page-title">
            <i class="fas fa-money-check-alt"></i> Add Salary
          </h3>
          <ul class="breadcrumb">
            <li class="breadcrumb-item">
              <a href="{% url 'accounts_dashboard' %}">Accounts</a>
            </li>
            <li class="breadcrumb-item active">Add Salary</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- DJANGO MESSAGES -->
    {% if messages %}
      <div class="row">
        <div class="col-md-8 offset-md-2">
          {% for message in messages %}
            <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
              {{ message }}
              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
          {% endfor %}
        </div>
      </div>
    {% endif %}

    <div class="row">
      <div class="col-md-8 offset-md-2">
        <div class="card">
          <div class="card-body">
            <form method="POST">
              {% csrf_token %}

              <!-- non-field errors -->
              {% if form.non_field_errors %}
                <div class="alert alert-danger">
                  {{ form.non_field_errors }}
                </div>
              {% endif %}

              <div class="form-group">
                <label for="teacher"><strong>Teacher</strong></label>
                {{ form.teacher }}
                {% if form.teacher.errors %}
                  <small class="text-danger">{{ form.teacher.errors.0 }}</small>
                {% endif %}
              </div>

              <div class="form-group">
                <label for="month"><strong>Month</strong></label>
                {{ form.month }}
                {% if form.month.errors %}
                  <small class="text-danger">{{ form.month.errors.0 }}</small>
                {% endif %}
              </div>

              <div class="form-group">
                <label for="amount"><strong>Amount (Rs)</strong></label>
                {{ form.amount }}
                {% if form.amount.errors %}
                  <small class="text-danger">{{ form.amount.errors.0 }}</small>
                {% endif %}
              </div>

              <div class="form-group">
                <label for="status"><strong>Status</strong></label>
                {{ form.status }}
                {% if form.status.errors %}
                  <small class="text-danger">{{ form.status.errors.0 }}</small>
                {% endif %}
              </div>

              <div class="text-center mt-4">
                <button type="submit" class="btn btn-primary">
                  <i class="fas fa-save"></i> Save Salary
                </button>
                <a href="{% url 'salary_list' %}" class="btn btn-secondary">
                  <i class="fas fa-times"></i> Cancel
                </a>
              </div>

            </form>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
{% endblock %}
